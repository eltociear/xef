/**
 * Please note: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * Do not edit this file manually.
 */
@file:Suppress("ArrayInDataClass", "EnumEntryName", "RemoveRedundantQualifierName", "UnusedImport")

package com.xebia.functional.openai.generated.model

import kotlin.jvm.JvmInline
import kotlinx.serialization.*
import kotlinx.serialization.builtins.*
import kotlinx.serialization.descriptors.*
import kotlinx.serialization.encoding.*
import kotlinx.serialization.json.*

@Serializable(with = RunStepDetailsToolCallsCodeObjectCodeInterpreterOutputsInnerSerializer::class)
sealed interface RunStepDetailsToolCallsCodeObjectCodeInterpreterOutputsInner {

  @JvmInline
  @Serializable
  value class CaseRunStepDetailsToolCallsCodeOutputImageObject(
    val value: RunStepDetailsToolCallsCodeOutputImageObject
  ) : RunStepDetailsToolCallsCodeObjectCodeInterpreterOutputsInner

  @JvmInline
  @Serializable
  value class CaseRunStepDetailsToolCallsCodeOutputLogsObject(
    val value: RunStepDetailsToolCallsCodeOutputLogsObject
  ) : RunStepDetailsToolCallsCodeObjectCodeInterpreterOutputsInner
}

private object RunStepDetailsToolCallsCodeObjectCodeInterpreterOutputsInnerSerializer :
  KSerializer<RunStepDetailsToolCallsCodeObjectCodeInterpreterOutputsInner> {
  @OptIn(InternalSerializationApi::class, ExperimentalSerializationApi::class)
  override val descriptor: SerialDescriptor =
    buildSerialDescriptor(
      "RunStepDetailsToolCallsCodeObjectCodeInterpreterOutputsInner",
      PolymorphicKind.SEALED
    ) {
      element("1", RunStepDetailsToolCallsCodeOutputImageObject.serializer().descriptor)
      element("2", RunStepDetailsToolCallsCodeOutputLogsObject.serializer().descriptor)
    }

  override fun deserialize(
    decoder: Decoder
  ): RunStepDetailsToolCallsCodeObjectCodeInterpreterOutputsInner {
    val json = decoder.decodeSerializableValue(JsonElement.serializer())
    return kotlin
      .runCatching {
        RunStepDetailsToolCallsCodeObjectCodeInterpreterOutputsInner
          .CaseRunStepDetailsToolCallsCodeOutputImageObject(
            Json.decodeFromJsonElement(
              RunStepDetailsToolCallsCodeOutputImageObject.serializer(),
              json
            )
          )
      }
      .getOrNull()
      ?: kotlin
        .runCatching {
          RunStepDetailsToolCallsCodeObjectCodeInterpreterOutputsInner
            .CaseRunStepDetailsToolCallsCodeOutputLogsObject(
              Json.decodeFromJsonElement(
                RunStepDetailsToolCallsCodeOutputLogsObject.serializer(),
                json
              )
            )
        }
        .getOrThrow()
  }

  override fun serialize(
    encoder: Encoder,
    value: RunStepDetailsToolCallsCodeObjectCodeInterpreterOutputsInner
  ) =
    when (value) {
      is RunStepDetailsToolCallsCodeObjectCodeInterpreterOutputsInner.CaseRunStepDetailsToolCallsCodeOutputImageObject ->
        encoder.encodeSerializableValue(
          RunStepDetailsToolCallsCodeOutputImageObject.serializer(),
          value.value
        )
      is RunStepDetailsToolCallsCodeObjectCodeInterpreterOutputsInner.CaseRunStepDetailsToolCallsCodeOutputLogsObject ->
        encoder.encodeSerializableValue(
          RunStepDetailsToolCallsCodeOutputLogsObject.serializer(),
          value.value
        )
    }
}
